<div class="dashboard container">
  <h2>
    Welcome to Xipify!
  </h2>

  <div *ngIf="categories" class="categories-list mt-3">
    <h3>Browse through categories below</h3>
    <mat-chip-list>
      <mat-chip *ngFor="let cat of categories">{{cat.Name}}</mat-chip>
    </mat-chip-list>
  </div>

  <div *ngIf="products" class="products-list mt-4">
    <h3>Products List:</h3>
    <div class="product-container row">
      <mat-card *ngFor="let product of products; let i = index" class="col-4 m-3">
        <mat-card-header>
          <mat-card-title>{{product.Name}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>{{product.Description}}</p>

          <div *ngIf="product.Url" class="product-url">
            <span>Url: <a href="{{product.Url}}">{{product.Url}}</a></span>
          </div>
          <div *ngIf="product.Categories && product.Categories.length" class="product-categories">
            <span>Categories:
              <mat-chip-list>
                <mat-chip *ngFor="let cat of product.Categories">{{cat.Name}}</mat-chip>
              </mat-chip-list>
            </span>
          </div>

        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary" (click)="getProductDetails(i)">Get Details</button>
          <button
            mat-button color="accent"
            routerLink="/edit-product/{{product.ProductId}}"
          >
            Edit
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>